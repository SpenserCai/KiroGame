# 视觉设计指南

本文档提供小鬼消消乐游戏的详细视觉设计规范，包括普通图标、特殊图标、UI元素和动画效果的设计指导。

## 设计原则

1. **清晰可辨**：不同类型的图标必须一眼就能区分
2. **视觉层次**：特殊图标应该比普通图标更突出
3. **色彩和谐**：使用协调的配色方案，避免视觉疲劳
4. **动画流畅**：所有动画应该自然、流畅，不突兀
5. **性能优先**：设计时考虑渲染性能，避免过于复杂的图形

## 普通小鬼图标设计

### 基础规格

- **画布尺寸**：128x128px
- **实际图标尺寸**：96-112px（留出8-16px内边距）
- **格式**：SVG（源文件）→ PNG（游戏使用）
- **背景**：透明
- **对齐**：居中
- **边缘**：抗锯齿，平滑

### 5种基础图标设计

#### 类型0：红色圆形小鬼
- **形状**：圆形
- **主色**：#E74C3C（鲜红色）
- **辅色**：#C0392B（深红色，用于阴影）
- **特征**：
  - 圆形身体
  - 两个白色圆形眼睛（带黑色瞳孔）
  - 微笑的嘴巴
  - 可选：小角或触角
- **设计要点**：
  - 使用渐变增加立体感（从#E74C3C到#C0392B）
  - 添加高光（白色，透明度30-50%）
  - 边缘添加细微阴影

#### 类型1：蓝色方形小鬼
- **形状**：圆角方形
- **主色**：#3498DB（天蓝色）
- **辅色**：#2980B9（深蓝色）
- **特征**：
  - 圆角方形身体（圆角半径：16px）
  - 两个白色椭圆形眼睛
  - 惊讶的表情（O形嘴巴）
  - 可选：方形耳朵
- **设计要点**：
  - 使用线性渐变（从上到下）
  - 边缘添加1-2px的深色描边

#### 类型2：黄色三角形小鬼
- **形状**：圆角三角形
- **主色**：#F1C40F（金黄色）
- **辅色**：#F39C12（橙黄色）
- **特征**：
  - 圆角三角形身体（顶点朝上）
  - 两个黑色圆形眼睛
  - 开心的笑脸
  - 可选：三角形帽子
- **设计要点**：
  - 使用径向渐变（中心亮，边缘暗）
  - 添加发光效果（外发光，黄色，模糊5px）

#### 类型3：绿色五角星小鬼
- **形状**：五角星
- **主色**：#2ECC71（翠绿色）
- **辅色**：#27AE60（深绿色）
- **特征**：
  - 五角星身体
  - 两个白色星形眼睛
  - 可爱的表情
  - 可选：叶子装饰
- **设计要点**：
  - 星形的每个角添加高光
  - 使用多重渐变增加层次感

#### 类型4：紫色菱形小鬼
- **形状**：菱形
- **主色**：#9B59B6（紫罗兰色）
- **辅色**：#8E44AD（深紫色）
- **特征**：
  - 菱形身体（45度旋转）
  - 两个白色菱形眼睛
  - 神秘的表情
  - 可选：魔法光环
- **设计要点**：
  - 使用对角线渐变
  - 添加内发光效果（紫色，透明度20%）

### 设计一致性要点

所有普通图标应该保持：
1. **相似的眼睛风格**：统一的眼睛大小和位置
2. **一致的表情风格**：卡通化、友好的表情
3. **统一的阴影方向**：假设光源在左上方
4. **相似的细节密度**：避免某个图标过于复杂或简单

## 特殊图标设计

特殊图标需要在视觉上明显区别于普通图标，让玩家一眼就能识别。

### 炸弹图标（4连生成）

#### 基础规格
- **画布尺寸**：128x128px
- **主色**：#2C3E50（深灰黑色）
- **辅色**：#E74C3C（红色，用于导火索）
- **特效色**：#F39C12（橙色，用于火花）

#### 设计元素
1. **主体**：
   - 圆形炸弹身体（黑色，带金属质感）
   - 使用径向渐变（中心亮，边缘暗）
   - 添加高光（白色，椭圆形，透明度40%）

2. **导火索**：
   - 从炸弹顶部延伸的曲线
   - 红色到橙色渐变
   - 顶端添加火花效果（黄色星形）

3. **特效**：
   - 外发光（橙色，模糊10px）
   - 可选：脉冲动画（缩放1.0-1.1循环）

4. **标识**：
   - 炸弹身体上添加"BOMB"文字或爆炸符号
   - 白色或黄色，半透明

#### SVG实现提示
```svg
<svg width="128" height="128" xmlns="http://www.w3.org/2000/svg">
  <!-- 外发光 -->
  <defs>
    <radialGradient id="bombGlow">
      <stop offset="0%" stop-color="#F39C12" stop-opacity="0.5"/>
      <stop offset="100%" stop-color="#F39C12" stop-opacity="0"/>
    </radialGradient>
  </defs>
  
  <!-- 发光效果 -->
  <circle cx="64" cy="70" r="50" fill="url(#bombGlow)"/>
  
  <!-- 炸弹主体 -->
  <circle cx="64" cy="70" r="35" fill="#2C3E50"/>
  
  <!-- 高光 -->
  <ellipse cx="55" cy="60" rx="12" ry="18" fill="white" opacity="0.4"/>
  
  <!-- 导火索 -->
  <path d="M 64 35 Q 70 25, 75 20" stroke="#E74C3C" stroke-width="3" fill="none"/>
  
  <!-- 火花 -->
  <circle cx="75" cy="20" r="4" fill="#F39C12"/>
</svg>
```

### 彩色炸弹图标（5连生成）

#### 基础规格
- **画布尺寸**：128x128px
- **主色**：彩虹渐变（红→橙→黄→绿→蓝→紫）
- **特效**：强烈的发光和闪烁效果

#### 设计元素
1. **主体**：
   - 球形身体
   - 使用圆锥渐变（彩虹色）
   - 添加多个高光点（白色，不同大小）

2. **特效**：
   - 强烈的外发光（白色，模糊15px）
   - 内发光（彩虹色，透明度30%）
   - 可选：旋转的光环

3. **标识**：
   - 中心添加星形或闪电符号
   - 白色，带外发光

4. **动画**：
   - 持续的脉冲效果（缩放0.95-1.05）
   - 色相旋转动画（可选）

### 横向消除图标（L型/T型生成）

#### 基础规格
- **画布尺寸**：128x128px
- **主色**：#3498DB（蓝色）
- **辅色**：#2980B9（深蓝色）
- **特效色**：#ECF0F1（白色）

#### 设计元素
1. **主体**：
   - 圆形或方形底座
   - 蓝色渐变

2. **箭头**：
   - 两个水平箭头（左右方向）
   - 白色或浅蓝色
   - 带动态效果（可选：左右移动动画）

3. **特效**：
   - 水平方向的光线效果
   - 外发光（蓝色，模糊8px）

### 纵向消除图标（L型/T型生成）

#### 基础规格
- **画布尺寸**：128x128px
- **主色**：#2ECC71（绿色）
- **辅色**：#27AE60（深绿色）
- **特效色**：#ECF0F1（白色）

#### 设计元素
1. **主体**：
   - 圆形或方形底座
   - 绿色渐变

2. **箭头**：
   - 两个垂直箭头（上下方向）
   - 白色或浅绿色
   - 带动态效果（可选：上下移动动画）

3. **特效**：
   - 垂直方向的光线效果
   - 外发光（绿色，模糊8px）

## UI元素设计

### 分数显示
- **字体**：Arial Black 或 Impact（粗体）
- **大小**：32px
- **颜色**：#ECF0F1（白色）
- **描边**：2px，#2C3E50（深色）
- **阴影**：4px偏移，模糊8px，黑色透明度50%
- **动画**：分数增加时缩放效果（1.0→1.2→1.0，持续300ms）

### 计时器显示
- **字体**：Arial 或 Helvetica（等宽）
- **大小**：28px
- **颜色**：
  - 正常：#ECF0F1（白色）
  - 警告（<10秒）：#E74C3C（红色）
- **格式**：MM:SS
- **动画**：警告时脉冲效果（透明度0.5-1.0循环）

### 按钮设计
- **形状**：圆角矩形（圆角半径：8px）
- **尺寸**：120x40px
- **颜色**：
  - 正常：#3498DB（蓝色）
  - 悬停：#2980B9（深蓝色）
  - 按下：#21618C（更深蓝色）
- **文字**：
  - 字体：Arial Bold
  - 大小：18px
  - 颜色：#FFFFFF（白色）
- **效果**：
  - 外发光（蓝色，模糊5px）
  - 悬停时缩放1.05
  - 按下时缩放0.95

### 游戏板背景
- **颜色**：#34495E（深灰蓝色）
- **网格线**：1px，#2C3E50（更深色），透明度30%
- **圆角**：10px
- **阴影**：内阴影，黑色，模糊10px

## 动画效果设计

### 选中动画
- **效果**：边框脉冲
- **颜色**：#F39C12（橙色）
- **宽度**：4px
- **动画**：透明度0.5-1.0循环，持续600ms

### 交换动画
- **效果**：位置平滑移动
- **时长**：200ms
- **缓动**：easeInOutQuad
- **轨迹**：直线

### 消除动画
- **效果**：缩放到0 + 淡出
- **时长**：300ms
- **缓动**：easeInQuad
- **附加**：旋转360度（可选）

### 下落动画
- **效果**：Y坐标平滑移动
- **时长**：400ms
- **缓动**：easeOutQuad（模拟重力）
- **附加**：轻微的弹跳效果（可选）

### 生成动画
- **效果**：从上方弹出
- **时长**：200ms
- **缓动**：easeOutBounce
- **初始状态**：缩放0.5，Y坐标-100
- **最终状态**：缩放1.0，正常位置

### 特殊图标激活动画

#### 炸弹爆炸
- **效果**：
  1. 炸弹缩放1.5倍（100ms）
  2. 闪白（50ms）
  3. 周围3x3图标同时消除
  4. 爆炸粒子效果（可选）
- **颜色**：橙色和黄色粒子
- **声音**：爆炸音效（如果启用音效）

#### 彩色炸弹激活
- **效果**：
  1. 彩色炸弹发光（200ms）
  2. 彩虹波纹扩散到全屏
  3. 所有相同类型图标闪烁
  4. 同时消除
- **颜色**：彩虹色波纹
- **声音**：魔法音效

#### 横向/纵向消除
- **效果**：
  1. 图标发光（100ms）
  2. 光线从图标向两侧/上下扩散
  3. 整行/列图标依次消除（带延迟，每个50ms）
- **颜色**：蓝色（横向）或绿色（纵向）光线
- **声音**：激光音效

## 粒子效果设计（可选）

### 消除粒子
- **数量**：5-10个
- **形状**：小圆形或星形
- **颜色**：与被消除图标相同
- **运动**：向四周扩散
- **生命周期**：500ms
- **效果**：淡出 + 缩小

### 连锁特效
- **效果**：屏幕闪光
- **颜色**：白色或金色
- **透明度**：0→0.3→0
- **时长**：200ms
- **触发**：每次连锁时

### 分数飘字
- **文字**：+分数值
- **颜色**：#F1C40F（金色）
- **大小**：24px
- **运动**：向上飘动50px
- **效果**：淡出
- **时长**：1000ms

## 设计工具推荐

### 矢量图形工具
1. **Figma**（推荐）
   - 在线协作
   - 免费版功能充足
   - 导出SVG方便

2. **Adobe Illustrator**
   - 专业级工具
   - 强大的矢量编辑功能
   - 需要付费

3. **Inkscape**
   - 免费开源
   - 功能完整
   - 跨平台

### 颜色工具
- **Coolors.co**：配色方案生成
- **Adobe Color**：色轮和配色
- **Paletton**：和谐配色

### 动画预览
- **LottieFiles**：动画预览和测试
- **CodePen**：在线测试SVG动画

## 导出规范

### SVG导出设置
- **尺寸**：128x128px
- **单位**：像素
- **精度**：2位小数
- **优化**：移除不必要的元数据
- **ID**：使用有意义的ID名称

### PNG转换设置（使用sharp）
- **尺寸**：128x128px
- **格式**：PNG
- **透明度**：保留
- **质量**：100（无损）
- **抗锯齿**：启用

## 设计检查清单

在提交设计前，请确认：

- [ ] 所有图标尺寸统一（128x128px）
- [ ] 背景透明
- [ ] 图标居中对齐
- [ ] 有适当的内边距（8-16px）
- [ ] 颜色符合配色方案
- [ ] 不同类型图标容易区分
- [ ] 特殊图标明显突出
- [ ] 边缘平滑，无锯齿
- [ ] SVG文件已优化
- [ ] 转换为PNG后质量良好
- [ ] 在游戏中测试视觉效果
- [ ] 在不同屏幕尺寸下测试

## 性能考虑

### 优化建议
1. **简化路径**：避免过于复杂的SVG路径
2. **限制渐变**：每个图标最多2-3个渐变
3. **避免滤镜**：SVG滤镜转PNG时可能失真
4. **控制文件大小**：每个PNG应小于50KB
5. **复用纹理**：相同类型的图标使用同一纹理

### 测试要点
- 在低端设备上测试渲染性能
- 确保60fps的流畅度
- 检查内存使用（应<100MB）
- 测试大量图标同时显示的情况

## 参考资源

### 灵感来源
- **Candy Crush**：经典消除游戏视觉风格
- **Bejeweled**：宝石图标设计
- **Puzzle & Dragons**：特殊效果动画

### 设计规范
- **Material Design**：UI元素设计规范
- **iOS Human Interface Guidelines**：交互设计规范

### 教程
- **SVG动画教程**：CSS-Tricks SVG Guide
- **游戏UI设计**：Gamasutra UI Design Articles
- **PixiJS特效**：PixiJS Examples Gallery

---

**最后更新**：2025-10-21  
**版本**：1.0.0
